const xhrequest=new XMLHttpRequest,method="GET",overrideMimeType="application/json",url="../player-stats.json";function populateSelect(){xhrequest.onreadystatechange=function(){if(xhrequest.readyState===XMLHttpRequest.DONE&&200===xhrequest.status){const e=document.getElementById("sel"),t=JSON.parse(xhrequest.responseText);localStorage.setItem("dataSource",JSON.stringify(t));for(let a=0;a<t.players.length;a++)e.innerHTML=e.innerHTML+"<option value='"+t.players[a].player.id+"'>"+t.players[a].player.name.first+" "+t.players[a].player.name.last+"</option>"}},xhrequest.open(method,url,!0),xhrequest.send()}function show(e){const t=JSON.parse(localStorage.getItem("dataSource"));var a=document.getElementById("player__name"),n=document.getElementById("player__pos"),l=document.getElementById("player__club"),s=document.getElementById("player__img"),r=document.getElementById("player__stats");for(let y=0;y<t.players.length;y++)if(t.players[y].player.id==e.value){document.getElementById("player-profile").classList.add("js-show");const h=t.players[y].player,g=t.players[y];a.innerText=e.options[e.selectedIndex].text,n.innerText=h.info.positionInfo.split(" ").slice(-1);var o=h.currentTeam.name.replace(" ","-").toLowerCase();l.innerHTML="<span class='"+o+"'></span>",s.src="images/p"+e.value+".png",r.innerHTML="";for(let e=0;e<g.stats.length;e++){var p=g.stats[e].name.replace("_"," "),d=g.stats[e].value,c=document.createTextNode(p),i=document.createTextNode(d),u=document.createElement("li"),m=document.createElement("span");u.appendChild(c),u.appendChild(m),m.appendChild(i),r.appendChild(u)}}}window.onload=populateSelect();