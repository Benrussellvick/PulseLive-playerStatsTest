const xhrequest=new XMLHttpRequest,method="GET",overrideMimeType="application/json",url="../player-stats.json";function populateSelect(){xhrequest.onreadystatechange=function(){if(xhrequest.readyState===XMLHttpRequest.DONE&&200===xhrequest.status){const e=document.getElementById("sel"),t=JSON.parse(xhrequest.responseText);localStorage.setItem("dataSource",JSON.stringify(t));for(let s=0;s<t.players.length;s++)e.innerHTML=e.innerHTML+"<option value='"+t.players[s].player.id+"'>"+t.players[s].player.name.first+" "+t.players[s].player.name.last+"</option>"}},xhrequest.open(method,url,!0),xhrequest.send()}function statTextRename(){let e=document.getElementsByClassName("fwd_pass");for(var t=0;t<e.length;t++)e[t].firstElementChild.innerText="forward passes";let s=document.getElementsByClassName("goal_assist");for(t=0;t<s.length;t++)s[t].firstElementChild.innerText="Assists";let a=document.getElementsByClassName("mins_played");for(t=0;t<a.length;t++)a[t].firstElementChild.innerText="Minutes played";let n=document.getElementsByClassName("backward_pass");for(t=0;t<n.length;t++)n[t].firstElementChild.innerText="Backward passes"}function show(e){const t=JSON.parse(localStorage.getItem("dataSource"));var s=document.getElementById("player__name"),a=document.getElementById("player__pos"),n=document.getElementById("player__club"),l=document.getElementById("player__img"),r=document.getElementById("player__stats");for(let g=0;g<t.players.length;g++)if(t.players[g].player.id==e.value){document.getElementById("player-profile").classList.add("js-show");const h=t.players[g].player,f=t.players[g];s.innerText=e.options[e.selectedIndex].text,a.innerText=h.info.positionInfo.split(" ").slice(-1);var o=h.currentTeam.name.replace(" ","-").toLowerCase();n.innerHTML="<span class='"+o+"'></span>",l.src="images/p"+e.value+".png",r.innerHTML="";for(let e=0;e<f.stats.length;e++){var p=f.stats[e].name.replace("_"," "),d=f.stats[e].value,i=document.createTextNode(p),m=document.createTextNode(d),c=document.createElement("li"),u=document.createElement("span"),y=document.createElement("span");c.appendChild(y),y.setAttribute("class","stat"),y.appendChild(i),c.appendChild(u),u.setAttribute("class","stat-figure"),u.appendChild(m),r.appendChild(c).classList.add(f.stats[e].name),statTextRename()}}}window.onload=populateSelect();